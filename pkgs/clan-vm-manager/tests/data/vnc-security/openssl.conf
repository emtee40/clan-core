[ ca ]
default_ca = CA_default

[ CA_default ]
dir = .              # Where everything is stored
certs = $dir/certs          # Where the issued certs are kept
crl_dir = $dir/crl          # Where the issued crl are kept
database = $dir/index.txt   # Database index file
new_certs_dir = $dir/newcerts
certificate = $dir/cacert.pem   # The CA certificate
serial = $dir/serial            # The current serial number
crlnumber = $dir/crlnumber      # The current crl number
crl = $dir/crl.pem              # The current CRL
private_key = $dir/private/cakey.pem
RANDFILE = $dir/private/.rand

x509_extensions = usr_cert    # The extensions to add to the cert
crlnumber = $dir/crlnumber    # the current crl number must be commented out to leave a V1 CRL
crl = $dir/crl.pem            # The current CRL
private_key = $dir/private/cakey.pem
RANDFILE = $dir/private/.rand

default_days = 365            # How long to certify for
default_crl_days = 30         # How long before next CRL
default_md = sha256           # Which md to use.
preserve = no                 # Keep passed DN ordering

policy = policy_match

[ policy_match ]
countryName = optional
stateOrProvinceName = optional
organizationName = optional
organizationalUnitName = optional
commonName = supplied
emailAddress = optional

[ req ]
default_bits = 2048
default_md = sha256
prompt = no
distinguished_name = req_distinguished_name
x509_extensions = v3_ca

[ req_distinguished_name ]
countryName = US
stateOrProvinceName = California
localityName = San Francisco
0.organizationName = My Organization
organizationalUnitName = My Organizational Unit
commonName = My CA
emailAddress = email@example.com

[ v3_ca ]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical,CA:true
keyUsage = critical, digitalSignature, cRLSign, keyCertSign

[ usr_cert ]
basicConstraints = CA:FALSE
nsComment = "OpenSSL Generated Certificate"
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer

